<!doctype html>

<html lang="en">  
<head>  
  <meta charset="utf-8" />  
  <meta name="viewport" content="width=device-width, initial-scale=1" />  
  <title>RoketMedia Customer Reviews — Brand</title>  
  <style>  
    :root{  
      --bg: #f5f7fb;  
      --card: #ffffff;  
      --primary: #0a7da6;  
      --accent: #0fc4b7;  
      --muted: #6b7280;  
      --danger: #d9534f;  
      --glass: rgba(10,125,166,0.06);  
    }  html,body{height:100%;margin:0;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;background:var(--bg);color:#0b1720}  
.wrap{display:flex;justify-content:center;padding:28px 18px}  
.container{width:100%;max-width:920px;display:flex;flex-direction:column;gap:20px}  

.title{  
  text-align:center;padding:26px;border-radius:14px;background:linear-gradient(180deg,#fff,#fbfdff);  
  border:1px solid rgba(10,125,166,0.08);box-shadow:0 6px 18px rgba(10,41,49,0.03)  
}  
.title h1{margin:0;font-size:28px;color:var(--primary);font-weight:800;letter-spacing:-0.4px}  
.title p{margin:10px auto 0;max-width:720px;color:var(--muted);font-size:15px;line-height:1.5}  

.main{display:grid;gap:20px}  
@media(min-width:900px){ .main{grid-template-columns:420px 1fr} }  

.card{background:var(--card);border-radius:14px;padding:18px;border:1px solid rgba(11,23,28,0.06);box-shadow:0 6px 18px rgba(7,18,24,0.03)}  

.summary{  
  display:flex;gap:18px;align-items:center;padding:18px;border-radius:12px;  
  background:linear-gradient(180deg,#ffffff,#f6fbfc);border:1px solid rgba(10,125,166,0.06)  
}  
.summary-left{width:120px;text-align:left}  
.avg-num{font-size:40px;font-weight:900;color:var(--primary);line-height:1}  
.avg-sub{margin-top:6px;color:var(--muted);font-size:13px}  
.avg-stars{margin-top:8px;font-size:18px;color:var(--accent)}  

.summary-bars{flex:1;display:flex;flex-direction:column;gap:8px}  
.bar-row{display:flex;align-items:center;gap:10px;color:var(--muted);font-size:13px}  
.bar-row span{width:36px}  
.bar{flex:1;height:9px;background:#e9eef3;border-radius:999px;overflow:hidden;box-shadow:inset 0 -1px 0 rgba(0,0,0,0.02)}  
.bar .fill{height:100%;width:0%;background:linear-gradient(90deg,var(--primary),var(--accent));transition:width .45s ease}  

.form .label{display:block;font-weight:700;color:var(--primary);margin-top:12px;font-size:13px}  
input[type="text"], textarea {width:100%;padding:11px;border-radius:10px;border:1px solid #e6eef4;font-size:14px;background:#fff;box-sizing:border-box}  
textarea{min-height:90px;resize:vertical}  

.stars{display:flex;gap:8px;margin-top:8px;font-size:26px}  
.star{cursor:pointer;color:#cbd6df;transition:transform .12s ease}  
.star.active{color:var(--accent);transform:translateY(-3px)}  
.btn-submit{margin-top:14px;padding:12px 14px;border-radius:10px;border:none;background:var(--primary);color:#fff;font-weight:700;cursor:pointer;width:100%}  

.reviews{display:flex;flex-direction:column;gap:14px}  
.rev{position:relative;background:#fff;border:1px solid #eef4f8;padding:14px;border-radius:12px}  
.rev .meta{display:flex;align-items:center;gap:12px}  
.avatar{width:44px;height:44;border-radius:10px;background:linear-gradient(135deg,#e6faff,#eafaf7);display:flex;align-items:center;justify-content:center;font-weight:800;color:var(--primary)}  
.rev .name{font-weight:800;color:#063940}  
.rev .time{font-size:12px;color:var(--muted)}  
.rev .rating{margin-top:8px;color:var(--accent);font-size:14px}  
.rev .text{margin-top:8px;color:#14202a;line-height:1.45}  
.rev .lenbar{margin-top:10px;height:6px;border-radius:8px;background:#eef6f8;overflow:hidden}  
.rev .lenbar > i{display:block;height:100%;background:linear-gradient(90deg,var(--primary),var(--accent));width:0%;transition:width .35s ease}  

.del-btn{position:absolute;top:12px;right:12px;background:var(--danger);color:#fff;border:none;padding:6px 8px;border-radius:8px;cursor:pointer;display:none}  
body.can-delete .del-btn{display:inline-block}  

#secretHotspot {  
  position: fixed;  
  top: 0;  
  right: 0;  
  width: 40px;  
  height: 40px;  
  z-index: 9999;  
  background: transparent;  
}

  </style>  
</head>  
<body>  <div id="secretHotspot"></div>  <div class="wrap">  
  <div class="container">  <div class="title">  
  <h1>RoketMedia Customer Reviews</h1>  
  <p>Trusted reviews from real users to help you evaluate our service quality.</p>  
</div>  

<div class="main">  

  <!-- LEFT FORM -->  
  <div class="card form">  
    <div style="display:flex;justify-content:space-between;align-items:center;">  
      <strong style="font-size:15px;color:#0b4f57">Share your experience</strong>  
    </div>  

    <!-- UPDATED HERE -->  
    <label class="label">RoketMedia Username</label>  
    <input id="username" type="text" placeholder="eg. rokemy" autocomplete="off" />  

    <label class="label">Rating</label>  
    <div class="stars" id="stars">  
      <span class="star" data-value="1">★</span>  
      <span class="star" data-value="2">★</span>  
      <span class="star" data-value="3">★</span>  
      <span class="star" data-value="4">★</span>  
      <span class="star" data-value="5">★</span>  
    </div>  

    <label class="label">Review</label>  
    <textarea id="review" placeholder="Share your experience... (be honest and specific)"></textarea>  

    <button class="btn-submit" onclick="submitReview(event)">Submit review</button>  
  </div>  

  <!-- RIGHT SIDE -->  
  <div style="display:flex;flex-direction:column;gap:16px">  
    <div class="card summary">  
      <div class="summary-left">  
        <div class="avg-num" id="avgValue">0.0</div>  
        <div class="avg-sub">Average rating</div>  
        <div class="avg-stars" id="avgStars">☆☆☆☆☆</div>  
        <div class="avg-sub" id="totalReviews" style="margin-top:8px">0 reviews</div>  
      </div>  

      <div class="summary-bars">  
        <div class="bar-row"><span>5★</span><div class="bar"><div id="bar5" class="fill"></div></div></div>  
        <div class="bar-row"><span>4★</span><div class="bar"><div id="bar4" class="fill"></div></div></div>  
        <div class="bar-row"><span>3★</span><div class="bar"><div id="bar3" class="fill"></div></div></div>  
        <div class="bar-row"><span>2★</span><div class="bar"><div id="bar2" class="fill"></div></div></div>  
        <div class="bar-row"><span>1★</span><div class="bar"><div id="bar1" class="fill"></div></div></div>  
      </div>  
    </div>  

    <div class="card">  
      <h3 style="margin:0 0 12px 0;color:#0a4f5e">User Reviews</h3>  
      <div id="reviews" class="reviews"></div>  
    </div>  
  </div>  

</div>

  </div>  
</div>  <script>  
const PIN = "100919";  
const COOLDOWN = 30000;  
const BLACKLIST = ["admin","owner","support","roketmedia","test","spam"];  
const BADWORDS = ["fuck","babi","anjing","bodoh","sial","bangsat","kontol","puki","cibai"];  
  
let lastSubmit = 0;  
let rating = 0;  
  
function escapeHtml(s){  
  return String(s)  
    .replace(/&/g,'&amp;')  
    .replace(/</g,'&lt;')  
    .replace(/>/g,'&gt;')  
    .replace(/"/g,'&quot;')  
    .replace(/'/g,'&#39;');  
}  
  
function censorBadWords(text){  
  let out = text;  
  BADWORDS.forEach(w=>{  
    const re = new RegExp(w, 'gi');  
    out = out.replace(re, w[0] + '*'.repeat(Math.max(0, w.length-1)));  
  });  
  return out;  
}  
  
const hotspot = document.getElementById('secretHotspot');  
(function(){  
  let taps = 0, timeout;  
  hotspot.addEventListener('click', ()=>{  
    taps++;  
    clearTimeout(timeout);  
    timeout = setTimeout(()=> taps = 0, 800);  
    if(taps >= 5){  
      taps = 0;  
      const pin = prompt('Enter PIN to unlock delete:');  
      if(pin === PIN){  
        document.body.classList.add('can-delete');  
        alert('Delete unlocked.');  
      } else {  
        alert('Incorrect PIN');  
      }  
    }  
  });  
})();  
  
function timeAgo(ts){  
  const d = new Date(ts);  
  const diff = (Date.now() - d.getTime())/1000;  
  if(diff < 60) return 'Just now';  
  if(diff < 3600) return Math.floor(diff/60) + ' minutes ago';  
  if(diff < 86400) return Math.floor(diff/3600) + ' hours ago';  
  if(diff < 2592000) return Math.floor(diff/86400) + ' days ago';  
  return d.toLocaleDateString();  
}  
  
starEls = document.querySelectorAll('.star');  
starEls.forEach(s => s.addEventListener('click', () => {  
  rating = Number(s.dataset.value);  
  starEls.forEach(x => x.classList.toggle('active', Number(x.dataset.value) <= rating));  
}));  
  
function loadReviews(){  
  try{return JSON.parse(localStorage.getItem('reviews') || '[]');}  
  catch(e){return [];}  
}  
function saveReviews(list){  
  localStorage.setItem('reviews', JSON.stringify(list));  
}  
  
function usernameBlocked(name){  
  if(!name) return true;  
  return BLACKLIST.includes(name.trim().toLowerCase());  
}  
function usernameExists(name){  
  const list = loadReviews();  
  return list.some(r => r.name.trim().toLowerCase() === name.trim().toLowerCase());  
}  
  
function submitReview(e){  
  if(e) e.preventDefault();  
  
  const now = Date.now();  
  if(now - lastSubmit < COOLDOWN){  
    alert('Please wait 30 seconds before submitting another review.');  
    return;  
  }  
  
  const nameRaw = document.getElementById('username').value || '';  
  const reviewRaw = document.getElementById('review').value || '';  
  const name = nameRaw.trim();  
  let text = reviewRaw.trim();  
  
  if(!name){alert('Please enter your username.');return;}  
  if(usernameBlocked(name)){alert('This username is not allowed.');return;}  
  if(usernameExists(name)){alert('A review from this username already exists.');return;}  
  if(!rating){alert('Please select a rating.');return;}  
  
  text = escapeHtml(text);  
  text = censorBadWords(text);  
  
  const review = {id: Date.now(), name, text, rating, time: new Date().toISOString()};  
  const list = loadReviews();  
  list.unshift(review);  
  saveReviews(list);  
  
  lastSubmit = now;  
  document.getElementById('review').value = '';  
  document.getElementById('username').value = '';  
  rating = 0;  
  starEls.forEach(x => x.classList.remove('active'));  
  
  renderReviews();  
}  
  
function deleteReview(id){  
  if(!document.body.classList.contains('can-delete')){  
    alert('Delete locked — tap top-right 5x.');  
    return;  
  }  
  if(!confirm('Delete this review?')) return;  
  let list = loadReviews();  
  list = list.filter(r => r.id !== id);  
  saveReviews(list);  
  renderReviews();  
}  
  
function renderReviews(){  
  const list = loadReviews();  
  const box = document.getElementById('reviews');  
  box.innerHTML = '';  
  
  let total = 0;  
  const count = {1:0,2:0,3:0,4:0,5:0};  
  
  list.forEach(r=>{  
    total += r.rating;  
    count[r.rating]++;  
  });  
  
  const avg = list.length ? (total / list.length) : 0;  
  document.getElementById('avgValue').innerText = avg ? avg.toFixed(1) : '0.0';  
  document.getElementById('avgStars').innerText = '★'.repeat(Math.round(avg)) + '☆'.repeat(5-Math.round(avg));  
  document.getElementById('totalReviews').innerText = list.length + (list.length===1?' review':' reviews');  
  
  const max = list.length || 1;  
  for(let i=1;i<=5;i++){  
    const el = document.getElementById('bar'+i);  
    if(el) el.style.width = ((count[i] || 0)/max*100) + '%';  
  }  
  
  list.forEach(r=>{  
    const wrapper = document.createElement('div');  
    wrapper.className = 'rev';  
    const initials = (r.name || '?').trim().split(/\s+/).map(w=>w[0]?.toUpperCase()||'').slice(0,2).join('');  
    const lenPercent = Math.min(100, Math.floor((r.text||'').length / 2));  
    wrapper.innerHTML = `  
      <div class="meta">  
        <div class="avatar">${escapeHtml(initials)}</div>  
        <div style="flex:1">  
          <div style="display:flex;align-items:center;gap:10px">  
            <div class="name">${escapeHtml(r.name)}</div>  
            <div class="time">${timeAgo(r.time)}</div>  
          </div>  
          <div class="rating">${'★'.repeat(r.rating)}${'☆'.repeat(5-r.rating)}</div>  
          <div class="text">${r.text}</div>  
          <div class="lenbar"><i style="width:${lenPercent}%"></i></div>  
        </div>  
      </div>  
      <button class="del-btn" onclick="deleteReview(${r.id})">Delete</button>  
    `;  
    box.appendChild(wrapper);  
  });  
}  
  
renderReviews();  
</script>  </body>  
</html>
